# 手写实现部分loader源码

## style-loader

+ css-loader 的作用是处理 css 中的 @import 和 url 这样的外部资源
+ style-loader 的作用是把样式插入到 DOM 中，方法是在 head 中插入一个 style 标签，并把样式写入到这个标签的 innerHTML 里
+ less-loader 把 less 编译成 css

### 实现less-loader

```js
let less = require("less");
function loader(source) {
  let callback = this.async();
  less.render(source, { filename: this.resource }, (err, output) => {
    callback(err, output.css);
  });
}
module.exports = loader;
```

### 实现style-loader

```js
function loader(source) {
  let script = `
      let style = document.createElement("style");
      style.innerHTML = ${JSON.stringify(source)};
    document.head.appendChild(style);
    `;
  return script;
}
module.exports = loader;
```